<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroPlanner</title>
    <link rel="stylesheet" href="index.css">
    <link rel="shortcut icon" href="img\LOGONEURO.png" type="image/x-icon">
</head>

<body>

    <div id="activity-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Adicionar Nova Atividade</h2>
            <div class="form-group">
                <label for="activity-title">Título</label>
                <input type="text" id="activity-title" placeholder="Ex: 9h20 - Revisão">
            </div>
            <div class="form-group">
                <label for="activity-description">Descrição</label>
                <textarea id="activity-description" rows="4" placeholder="Adicione uma descrição para sua atividade..."></textarea>
            </div>
            <div class="modal-actions">
                <button id="save-activity-btn">Salvar</button>
                <button id="cancel-activity-btn">Cancelar</button>
            </div>
        </div>
    </div>

    <div id="note-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2>Adicionar Nova Nota</h2>
        <div class="form-group">
            <label for="note-text">Nota</label>
            <textarea id="note-text" rows="5" placeholder="Digite sua nota aqui..."></textarea>
        </div>
        <div class="modal-actions">
            <button id="save-note-btn">Salvar Nota</button>
            <button id="cancel-note-btn">Cancelar</button>
        </div>
    </div>
</div>

    <aside class="sidebar">
        <div class="logo">
            <div class="logo-icon">
                <img src="/img/logo.png" alt="Logo">
            </div>
            <h3>Rotinas</h3>
        </div>

        <button class="add-button"><span>+</span> Adicionar</button>

        <div class="menu-item">
            <div class="menu-icon"><img src="/img/pessoa.png" alt="Pessoa"></div>
            <h4 class="teste">Perfil</h4>
        </div>
        <div class="menu-item">
            <div class="menu-icon"><img src="/img/calendario.png" alt="Calendário"></div>
            <h4>Calendário</h4>
        </div>
        <div class="menu-item">
            <div class="menu-icon"><img src="/img/alvo.png" alt="Alvo"></div>
            <h4>Criador de Rotinas</h4>
        </div>
        <div class="menu-item">
            <div class="menu-icon"><img src="/img/camera.png" alt="Câmera"></div>
            <h4>Biblioteca de Recursos</h4>
        </div>
        <div class="menu-item">
            <div class="menu-icon"><img src="/img/pessoaConfig.png" alt="Configuração"></div>
            <h4>Configurações</h4>
        </div>
        <div class="menu-item">
            <div class="menu-icon"><img src="/img/seta.png" alt="Seta"></div>
            <h4>Diretório de Suporte</h4>
        </div>
    </aside>

    <div class="tela">
        <nav>
            <h1><span>Neuro</span>Planner</h1>

            <ul>
                <li>
                    <img class="lupa" src="/img/lupa.png" alt="Buscar">
                    <input type="text" placeholder="Pesquise aqui">
                </li>
                <li>
                    <div class="perfil">
                        <img src="/img/perfil.png" alt="Perfil">
                    </div>
                </li>
            </ul>
        </nav>

        <main>
            <section class="section1">
                <h1>Atividades da Semana</h1>
                <h2>Hoje</h2>

                <div class="quadrados">
                    <p class="tres">...</p>
                    <div class="quadrado1">
                        <div class="textos">
                            <div class="texto1">
                                <p>9h20 - Revisão antes de avaliação</p>
                            </div>
                            <div class="texto2">
                                <p>Anotação: Ativar o modo foco até 10h50. Estudar as matérias: Parasitologia,
                                    Imunologia, Microbiologia.</p>
                            </div>
                        </div>
                        <label class="custom-checkbox">
                            <input type="checkbox">
                            <span class="checkmark"></span>
                        </label>
                    </div>

                    <div class="quadrado1">
                        <div class="textos">
                            <div class="texto1">
                                <p>12h - Almoço</p>
                            </div>
                            <div class="texto2">
                                <p>sem descrição</p>
                            </div>
                        </div>
                        <label class="custom-checkbox">
                            <input type="checkbox">
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="quadrado1">
                        <div class="textos">
                            <div class="texto1">
                                <p>10h50 - Descanso</p>
                            </div>
                            <div class="texto2">
                                <p>Pausa Pós-Estudo: Saia da frente da tela. Caminhe, ouça música, medite ou faça algo
                                    que te relaxe</p>
                            </div>
                        </div>
                        <label class="custom-checkbox">
                            <input type="checkbox">
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="quadrado1">
                        <div class="textos">
                            <div class="texto1">
                                <p>15h15 - De volta aos estudos </p>
                            </div>
                            <div class="texto2">
                                <p>Anotação: ativar o modo foco até 10h50;
                                    Fazer exercícios das matérias estudas.</p>
                            </div>
                        </div>
                        <label class="custom-checkbox">
                            <input type="checkbox">
                            <span class="checkmark"></span>
                        </label>
                    </div>
                </div>
            </section>

            <section class="section2">
                <div class="bloco-notas">
                    <h2>Bloco de Notas</h2>
                    <div class="notas-lista">
                        <div class="nota-vazia">
                            <div class="check-vazio"></div>
                            <p>Sem notas por enquanto</p>
                        </div>
                    </div>
                    <button class="add-nota">+ add nota</button>
                </div>

                <div class="bloco-foco">
                    <h2>Modo Foco</h2>
                    <div class="timer-circulo">
                        <p id="timer-display">15:00</p>
                    </div>
                    <div class="timer-controls">
                        <button class="timer-button" id="control-timer-btn">Ativar Timer</button>
                        <button class="timer-button reset" id="reset-timer-btn">Recomeçar</button>
                    </div>
                </div>
            </section>

        </main>
    </div>
    

    <script>
        // --- SCRIPT DO TIMER (SEU CÓDIGO ORIGINAL) ---
        const timerDisplay = document.getElementById('timer-display');
        const controlBtn = document.getElementById('control-timer-btn');
        const resetBtn = document.getElementById('reset-timer-btn');
        let countdownInterval;
        let totalSeconds;
        let timerState = 'stopped';
        const initialTime = timerDisplay.textContent;

        function startTimer() {
            timerState = 'running';
            controlBtn.textContent = 'Pausar';
            controlBtn.disabled = false;
            countdownInterval = setInterval(() => {
                totalSeconds--;
                updateDisplay();
                if (totalSeconds <= 0) {
                    resetTimer();
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(countdownInterval);
            timerState = 'paused';
            controlBtn.textContent = 'Continuar';
        }

        function resetTimer() {
            clearInterval(countdownInterval);
            timerDisplay.textContent = initialTime;
            timerState = 'stopped';
            controlBtn.textContent = 'Ativar Timer';
            controlBtn.disabled = false;
        }

        function updateDisplay() {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            timerDisplay.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        controlBtn.addEventListener('click', () => {
            if (timerState === 'stopped') {
                const timeParts = initialTime.split(':');
                totalSeconds = parseInt(timeParts[0], 10) * 60 + parseInt(timeParts[1], 10);
                if (totalSeconds > 0) {
                    startTimer();
                }
            } else if (timerState === 'running') {
                pauseTimer();
            } else if (timerState === 'paused') {
                startTimer();
            }
        });

        resetBtn.addEventListener('click', () => {
            resetTimer();
        });
    </script>
    
    <!-- SCRIPT PARA O POP-UP E ADIÇÃO DE ATIVIDADES (ATUALIZADO) -->
    <script>
        const addButton = document.querySelector('.add-button');
        const quadradosContainer = document.querySelector('.quadrados');
        const modalOverlay = document.getElementById('activity-modal');
        const activityTitleInput = document.getElementById('activity-title');
        const activityDescriptionInput = document.getElementById('activity-description');
        const saveBtn = document.getElementById('save-activity-btn');
        const cancelBtn = document.getElementById('cancel-activity-btn');

        function openModal() {
            modalOverlay.classList.remove('hidden');
        }

        function closeModal() {
            activityTitleInput.value = '';
            activityDescriptionInput.value = '';
            modalOverlay.classList.add('hidden');
        }

        function createNewSquare(title, description) {
            const newSquare = document.createElement('div');
            newSquare.classList.add('quadrado1');
            newSquare.innerHTML = `
                <div class="textos">
                    <div class="texto1">
                        <p>${title}</p>
                    </div>
                    <div class="texto2">
                        <p>${description}</p>
                    </div>
                </div>
                <label class="custom-checkbox">
                    <input type="checkbox">
                    <span class="checkmark"></span>
                </label>
            `;
            quadradosContainer.appendChild(newSquare);
        }

        addButton.addEventListener('click', openModal);
        cancelBtn.addEventListener('click', closeModal);

        modalOverlay.addEventListener('click', (event) => {
            if (event.target === modalOverlay) {
                closeModal();
            }
        });

        saveBtn.addEventListener('click', () => {
            const title = activityTitleInput.value;
            const description = activityDescriptionInput.value;

            if (title.trim() === '') {
                alert('Por favor, insira um título para a atividade.');
                return;
            }

            createNewSquare(title, description || 'sem descrição');
            closeModal();
        });
    </script>
    <script>
    // --- Referências aos Elementos ---
    const addNoteButton = document.querySelector('.add-nota');
    const notesListContainer = document.querySelector('.notas-lista');
    const noteModalOverlay = document.getElementById('note-modal');
    const noteTextInput = document.getElementById('note-text');
    const saveNoteBtn = document.getElementById('save-note-btn');
    const cancelNoteBtn = document.getElementById('cancel-note-btn');

    // --- Funções do Modal ---
    function openNoteModal() {
        noteModalOverlay.classList.remove('hidden');
    }

    function closeNoteModal() {
        noteTextInput.value = '';
        noteModalOverlay.classList.add('hidden');
    }

    // --- NOVA FUNÇÃO: Verifica se a lista de notas está vazia ---
    function checkEmptyNotes() {
        // Se não houver mais itens com a classe .nota-item...
        if (notesListContainer.querySelectorAll('.nota-item').length === 0) {
            // ...adiciona a mensagem de "Sem notas" de volta.
            notesListContainer.innerHTML = `
                <div class="nota-vazia">
                    <div class="check-vazio"></div>
                    <p>Sem notas por enquanto</p>
                </div>
            `;
        }
    }

    // --- Função ATUALIZADA para criar a nota ---
    function createNewNote(noteText) {
        const emptyNotePlaceholder = notesListContainer.querySelector('.nota-vazia');
        if (emptyNotePlaceholder) {
            emptyNotePlaceholder.remove();
        }

        const newNoteItem = document.createElement('div');
        newNoteItem.classList.add('nota-item');

        // O HTML da nota agora inclui o botão da lixeira
        newNoteItem.innerHTML = `
            <label class="custom-checkbox-nota">
                <input type="checkbox">
                <span class="checkmark-nota"></span>
            </label>
            <p>${noteText}</p>
            <button class="delete-note-btn">
                <img src="/img/lixeira.png" alt="Apagar">
            </button>
        `;
        
        notesListContainer.appendChild(newNoteItem);

        // LÓGICA PARA APAGAR: Adiciona um "escutador" ao botão de apagar que acabamos de criar
        const deleteButton = newNoteItem.querySelector('.delete-note-btn');
        deleteButton.addEventListener('click', function() {
            newNoteItem.remove(); // Remove o item da nota
            checkEmptyNotes();    // Verifica se a lista ficou vazia
        });
    }

    // --- Eventos de Clique (sem alteração) ---
    addNoteButton.addEventListener('click', openNoteModal);
    cancelNoteBtn.addEventListener('click', closeNoteModal);
    
    noteModalOverlay.addEventListener('click', (event) => {
        if (event.target === noteModalOverlay) {
            closeNoteModal();
        }
    });

    saveNoteBtn.addEventListener('click', () => {
        const noteText = noteTextInput.value;
        if (noteText.trim() === '') {
            alert('Por favor, digite algo em sua nota.');
            return;
        }
        createNewNote(noteText);
        closeNoteModal();
    });
</script>
</body>

</html>
